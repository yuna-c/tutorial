<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			function test(delay, callback) {
				setTimeout(() => {
					callback();
				}, delay);
			}

			//순서1 - start콘솔출력 (callstack)
			console.log('start');

			//순서2- test함수 호출 (callstack)
			//순서3- setTimeout구문 외주 맡기고 다음코드 바로 실행 (callstack)
			//순서6- setTimeout수행하고 그안쪽의 test1 콘솔문을 callstack에 전달 (web api)
			//(이때 이미 콜스택에서 콘솔 end까지 업무가 등록된 상태이기 때문에 그 다음에 호출 대기)
			test(2000, () => {
				console.log('test1');
			});
			//순서4- 두번째 test함수 호출(callstack)
			//순서5- setTimeout구문 외주 맡기고 다음코드 바로 실행 (callstack)
			//순서7- setTimeout수행하고 그 안쪽의 test2 콘솔문을 callstack에 전달 (web api)
			test(2000, () => {
				console.log('test2');
			});

			//순서5 - end콘솔출력
			console.log('end');
			//실제 수행흐름 1-콘솔start, 2-콘솔end, 3-콘솔 test1, 4-콘솔 test2
		</script>
	</body>
</html>
